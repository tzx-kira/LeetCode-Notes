# 链表

## 基础

定义：链表是一种通过指针串联在一起的线性结构，每一个节点由两部分组成，一个是数据域一个是指针域（存放指向下一个节点的指针），最后一个节点的指针域指向null（空指针的意思）。

链表的入口节点称为链表的头结点也就是head。

### 链表的类型

单链表：

单链表中的指针域只能指向节点的下一个节点。

![1758887841108](image/Theories/1.png)

双链表：

每一个节点有两个指针域，一个指向下一个节点，一个指向上一个节点。双链表既可以向前查询也可以向后查询。

![1758888093497](image/Theories/2.png)

循环链表：

循环链表就是链表首尾相连。

![1758888303786](image/Theories/3.png)

### 链表的存储方式

数组是在内存中是连续分布的，但是链表在内存中可不是连续分布的。

链表是通过指针域的指针链接在内存中各个节点。

所以链表中的节点在内存中不是连续分布的 ，而是散乱分布在内存中的某地址上，分配机制取决于操作系统的内存管理。

### 链表的代码定义方法

C/C++的定义链表节点方式：

```
// 单链表
struct ListNode {
    int val;  // 节点上存储的元素
    ListNode *next;  // 指向下一个节点的指针
    ListNode(int x) : val(x), next(NULL) {}  // 节点的构造函数
};
ListNode* head = new ListNode(5); //通过自己定义构造函数初始化节点
```

使用默认构造函数初始化节点：

```
ListNode* head = new ListNode();
head->val = 5;
```

如果不定义构造函数使用默认构造函数的话，在初始化的时候就不能直接给变量赋值！

### 链表的操作

删除节点：

删除D节点，如图所示：

![1758889251933](image/Theories/4.png)

只要将C节点的next指针指向E节点就可以了。在C++里最好是再手动释放这个D节点，释放这块内存。

添加节点：

![1758889520225](image/Theories/1758889520225.png)

链表的增添和删除都是O(1)操作，也不会影响到其他节点。

注意，要是删除第五个节点，需要从头节点查找到第四个节点通过next指针进行删除操作，查找的时间复杂度是O(n)。

Java版本：

```java

public class ListNode {
    // 结点的值
    int val;

    // 下一个结点
    ListNode next;

    // 节点的构造函数(无参)
    public ListNode() {
    }

    // 节点的构造函数(有一个参数)
    public ListNode(int val) {
        this.val = val;
    }

    // 节点的构造函数(有两个参数)
    public ListNode(int val, ListNode next) {
        this.val = val;
        this.next = next;
    }
}
```

## 常用方法

### 双指针

双指针删除链表的倒数第n个节点，让fast移动n步，然后让fast和slow同时移动，直到fast指向链表末尾。删掉slow所指向的节点就可以了。
